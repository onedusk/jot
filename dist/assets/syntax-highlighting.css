/* Jot Documentation - Syntax Highlighting Theme */
/* Based on Tailwind CSS Theme from Compass */

:root {
  /* Gray Scale */
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;
  
  /* Color Palette */
  --color-slate-300: #cbd5e1;
  --color-slate-400: #94a3b8;
  --color-slate-900: #0f172a;
  
  --color-sky-300: #7dd3fc;
  --color-sky-400: #38bdf8;
  --color-sky-500: #0ea5e9;
  
  --color-blue-300: #93c5fd;
  --color-blue-400: #60a5fa;
  --color-blue-500: #3b82f6;
  --color-blue-600: #2563eb;
  
  --color-indigo-300: #a5b4fc;
  --color-indigo-400: #818cf8;
  
  --color-purple-300: #c4b5fd;
  --color-purple-400: #a78bfa;
  
  --color-pink-300: #f9a8d4;
  --color-pink-400: #f472b6;
  
  --color-rose-400: #fb7185;
  --color-rose-600: #e11d48;
  
  --color-amber-200: #fde68a;
  --color-amber-300: #fcd34d;
  --color-amber-400: #fbbf24;
  
  --color-emerald-300: #6ee7b7;
  --color-emerald-400: #34d399;
  --color-emerald-600: #059669;
  
  --color-teal-300: #5eead4;
  
  --color-cyan-300: #67e8f9;
  --color-cyan-400: #22d3ee;
  
  --color-white: #ffffff;
  --color-black: #000000;
}

/* Dark mode color scheme */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-primary: var(--color-gray-900);
    --bg-secondary: var(--color-gray-800);
    --bg-code: #1a202c;
    --text-primary: var(--color-gray-50);
    --text-secondary: var(--color-gray-300);
    --text-muted: var(--color-gray-500);
    --border-color: var(--color-gray-700);
  }
}

/* Light mode color scheme */
@media (prefers-color-scheme: light) {
  :root {
    --bg-primary: #ffffff;
    --bg-secondary: #f9fafb;
    --bg-code: #f6f8fa;
    --text-primary: var(--color-gray-900);
    --text-secondary: var(--color-gray-700);
    --text-muted: var(--color-gray-500);
    --border-color: var(--color-gray-200);
  }
}

/* Base styles for code blocks */
pre {
  background: var(--bg-code);
  color: var(--text-primary);
  padding: 1.5rem;
  border-radius: 0.5rem;
  overflow-x: auto;
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
  font-size: 0.875rem;
  line-height: 1.7;
  border: 1px solid var(--border-color);
}

pre code {
  background: transparent;
  padding: 0;
  border: none;
  font-size: inherit;
}

/* Inline code */
code:not(pre code) {
  background: var(--bg-code);
  color: var(--color-pink-400);
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
  font-size: 0.875em;
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
}

/* Syntax Highlighting Classes */

/* Comments */
.hljs-comment,
.hljs-quote,
.hljs-deletion {
  color: var(--color-gray-500);
  font-style: italic;
}

/* Keywords */
.hljs-keyword,
.hljs-selector-tag,
.hljs-literal,
.hljs-title,
.hljs-section,
.hljs-doctag,
.hljs-type,
.hljs-name,
.hljs-strong {
  color: var(--color-indigo-300);
  font-weight: 500;
}

/* Strings */
.hljs-string,
.hljs-bullet,
.hljs-addition,
.hljs-meta .hljs-string,
.hljs-regexp,
.hljs-link {
  color: var(--color-sky-300);
}

/* Functions and Methods */
.hljs-title.function_,
.hljs-title.function,
.hljs-function .hljs-title,
.hljs-built_in,
.hljs-class .hljs-title {
  color: var(--color-teal-300);
}

/* Variables and Parameters */
.hljs-attr,
.hljs-variable,
.hljs-template-variable,
.hljs-class .hljs-title,
.hljs-params {
  color: var(--color-white);
}

/* Numbers and Constants */
.hljs-number,
.hljs-meta,
.hljs-meta .hljs-keyword,
.hljs-meta .hljs-string,
.hljs-emphasis {
  color: var(--color-pink-400);
}

/* HTML/XML Tags */
.hljs-tag {
  color: var(--color-gray-400);
}

.hljs-tag .hljs-attr {
  color: var(--color-gray-300);
}

.hljs-tag .hljs-name {
  color: var(--color-pink-400);
}

/* CSS Specific */
.css .hljs-selector-class,
.css .hljs-selector-id {
  color: var(--color-pink-400);
}

.css .hljs-attribute {
  color: var(--color-sky-300);
}

.css .hljs-number {
  color: var(--color-white);
}

.css .hljs-built_in {
  color: var(--color-teal-300);
}

/* JavaScript/TypeScript Specific */
.javascript .hljs-keyword,
.typescript .hljs-keyword {
  color: var(--color-indigo-300);
}

.javascript .hljs-string,
.typescript .hljs-string {
  color: var(--color-sky-300);
}

.javascript .hljs-built_in,
.typescript .hljs-built_in {
  color: var(--color-teal-300);
}

/* JSON Specific */
.json .hljs-attr {
  color: var(--color-gray-300);
}

.json .hljs-string {
  color: var(--color-sky-300);
}

.json .hljs-number,
.json .hljs-literal {
  color: var(--color-pink-400);
}

/* Go Specific */
.go .hljs-keyword {
  color: var(--color-indigo-300);
}

.go .hljs-built_in {
  color: var(--color-teal-300);
}

.go .hljs-string {
  color: var(--color-sky-300);
}

.go .hljs-type {
  color: var(--color-purple-300);
}

/* Python Specific */
.python .hljs-keyword {
  color: var(--color-indigo-300);
}

.python .hljs-built_in {
  color: var(--color-teal-300);
}

.python .hljs-string {
  color: var(--color-sky-300);
}

.python .hljs-decorator,
.python .hljs-meta {
  color: var(--color-purple-400);
}

/* Rust Specific */
.rust .hljs-keyword {
  color: var(--color-indigo-300);
}

.rust .hljs-type {
  color: var(--color-purple-300);
}

.rust .hljs-string {
  color: var(--color-sky-300);
}

.rust .hljs-meta {
  color: var(--color-amber-400);
}

/* YAML Specific */
.yaml .hljs-attr {
  color: var(--color-pink-400);
}

.yaml .hljs-string {
  color: var(--color-sky-300);
}

.yaml .hljs-number,
.yaml .hljs-literal {
  color: var(--color-pink-400);
}

/* Line Numbers (if enabled) */
.hljs-ln-numbers {
  color: var(--color-gray-500);
  padding-right: 1rem;
  user-select: none;
}

.hljs-ln-code {
  padding-left: 1rem;
}

/* Selection */
.hljs::selection,
.hljs *::selection {
  background: color-mix(in oklab, var(--color-gray-200) 15%, transparent);
}

/* Diff Highlighting */
.hljs-addition {
  background-color: color-mix(in oklab, var(--color-emerald-400) 25%, transparent);
  color: var(--color-emerald-300);
}

.hljs-deletion {
  background-color: color-mix(in oklab, var(--color-rose-400) 25%, transparent);
  color: var(--color-rose-400);
  text-decoration: line-through;
}

/* Bracket Colorization */
.bracket-level-1 { color: var(--color-purple-200); }
.bracket-level-2 { color: var(--color-cyan-300); }
.bracket-level-3 { color: var(--color-blue-300); }
.bracket-level-4 { color: var(--color-emerald-300); }
.bracket-level-5 { color: var(--color-pink-300); }
.bracket-level-6 { color: var(--color-amber-200); }

/* Code block with title */
.code-block-title {
  background: var(--bg-secondary);
  color: var(--text-secondary);
  padding: 0.5rem 1rem;
  border-radius: 0.5rem 0.5rem 0 0;
  font-size: 0.875rem;
  font-weight: 500;
  border: 1px solid var(--border-color);
  border-bottom: none;
}

.code-block-title + pre {
  border-radius: 0 0 0.5rem 0.5rem;
  margin-top: 0;
}

/* Copy button for code blocks */
.code-copy-button {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  background: var(--bg-secondary);
  color: var(--text-secondary);
  border: 1px solid var(--border-color);
  padding: 0.25rem 0.5rem;
  border-radius: 0.25rem;
  font-size: 0.75rem;
  cursor: pointer;
  transition: all 0.2s;
  opacity: 0;
}

pre:hover .code-copy-button {
  opacity: 1;
}

.code-copy-button:hover {
  background: var(--color-sky-500);
  color: white;
  border-color: var(--color-sky-500);
}

.code-copy-button.copied {
  background: var(--color-emerald-400);
  color: white;
  border-color: var(--color-emerald-400);
}

/* Language indicator */
pre[data-language]::before {
  content: attr(data-language);
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  background: var(--bg-secondary);
  color: var(--text-muted);
  padding: 0.125rem 0.5rem;
  border-radius: 0.25rem;
  font-size: 0.75rem;
  text-transform: uppercase;
  opacity: 0.7;
}

/* Scrollbar styling for code blocks */
pre::-webkit-scrollbar {
  height: 8px;
  width: 8px;
}

pre::-webkit-scrollbar-track {
  background: var(--bg-secondary);
  border-radius: 4px;
}

pre::-webkit-scrollbar-thumb {
  background: var(--color-gray-600);
  border-radius: 4px;
}

pre::-webkit-scrollbar-thumb:hover {
  background: var(--color-gray-500);
}

/* Responsive adjustments */
@media (max-width: 640px) {
  pre {
    padding: 1rem;
    font-size: 0.75rem;
  }
  
  code:not(pre code) {
    font-size: 0.8125em;
  }
}